# ===============================
# = APPLICATION SETTINGS
# ===============================
spring.application.name=demo
server.port=9000

# ===============================
# = DATABASE CONFIGURATION (SQLite)
# ===============================
# Enable WAL mode for better concurrency
spring.datasource.url=jdbc:sqlite:users.db?journal_mode=WAL
spring.datasource.driver-class-name=org.sqlite.JDBC

# SQLite only supports one writer at a time, so limit Hikari pool
spring.datasource.hikari.maximum-pool-size=1
spring.datasource.hikari.minimum-idle=1

# ===============================
# = SCHEMA INITIALIZATION
# ===============================
spring.sql.init.mode=always
spring.sql.init.schema-locations=classpath:schema.sql
spring.sql.init.continue-on-error=false
spring.sql.init.platform=sqlite

# ===============================
# = SQL LOGGING
# ===============================
logging.level.org.springframework.jdbc.core.JdbcTemplate=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# ===============================
# = CONNECTION POOL (HikariCP)
# ===============================
spring.datasource.hikari.idle-timeout=30000
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.max-lifetime=1800000
